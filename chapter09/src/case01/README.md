# 9.1 변수 쪼개기

_Split Variable_

## 개요

Before

```python
temp = 2 * (height + width)
print(temp)
temp = height * width
print(temp)
```

After

```python
perimeter = 2 * (height + width)
print(preimeter)
area = height * width
print(area)
```

## 배경

변수는 다양한 용도로 쓰이고, 변수에 여러 값을 대입할 수 밖에 없는 경우도 있다. 루프문 내 변수는 한번 돌 때마다 바뀌고, 수집 변수(_collecting variable_)는 메소드가 동작하는 중간중간 값을 저장한다.

변수는 긴 코드의 결과를 저장했다가 쉽게 참조하려는 목적으로 쓰인다. 이런 변수는 값을 단 한 번만 대입해야 한다. 두 번 이상 대입이 이루어지면 반드시 나눠야한다.

> [!WARNING]
>
> 변수 하나 당 값 한 번만. 여러 용도로 쓰인 변수를 쓰지 마시오

## 절차

1. 변수를 선언한 곳과 값을 처음 대입하는 곳에서 변수 이름을 바꾼다 <br />
→ 이후의 대입이 `i = i + something` 이면 수집변수이므로 쪼갤 수 없다. 수집변수는 총합 계산, 문자열 연결, 스트림에 쓰기, 컬렉션에 쓰기 등에 쓰인다
2. 가능하면 이 때 값은 _immutable_ 으로 선언한다
3. 이 변수에 두 번째로 값을 대입하는 곳 앞까지의 모든 참조(이 변수가 쓰인 곳)를 새 변수 이름으로 바꾼다
4. 두 번째 대입 시 변수를 원래 이름으로 다시 선언한다
5. 테스트한다
6. REPEAT

## 예시 (1)

뭔 요상한 예시가 있다 ㅋㅋ

핵심은 첫번째 다른 대입 전까지 이름을 바꾸고, 두 번째 이어질 때도 흐름을 바꾼다.

그 흐름을 느끼면 됨. 커밋에서 보면 됨

## 예시 (2)

입력 매개변수 (매개변수도 변수다) 를 리팩터 하는 케이스