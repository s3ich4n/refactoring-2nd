# 11.10 명령을 함수로 바꾸기

_Replace Command with Function_

## 개요

Before

```python
class ChargeCalculator:
    def __init__(self, customer, usage):
        self._customer = customer
        self._usage = usage

    def execute(self):
        return self._customer * self._usage
```

After

```python

```

> ![TIP]
> 반대 리팩터링: 함수를 명령으로 바꾸기 (11.9절)

## 배경

명령 객체는 복잡한 연산을 다룰 수 있는 강력한 메커니즘을 제공한다.
정확히는 이 복잡하고 큰 연산을 내부에서 작은 메소드들로 쪼개고, 그 사이의 정보공유가 훨씬 수월하다.
그러면서 동시에 메소드의 다양한 조합으로 다른 효과를 줄 수도 있고, 각 단계를 거치며 데이터를 조금씩 완성해갈 수도 있다.

하지만 코드가 복잡해진다. 명령은 함수 하나 콜해서 일을 수행하는데만 쓰인다. 복잡하지 않은 건 쉽게 푸는게 더 좋다.

## 절차

1. 명령을 생성하는 코드와 명령의 실행 메소드를 호출하는 코드를 함께 함수로 추출(6.1절)한다. <br />
→ 이 함수가 명령을 대체할 함수다.
2. 명령의 실행 함수가 호출하는 보조 메소드들 각각을 인라인(6.2절) 한다. <br />
→ 보조 메소드가 값을 반환한다면 함수 인라인에 앞서 변수 추출하기(6.3절)을 적용한다
3. 함수 선언 바꾸기(6.5절)를 적용하여 생성자의 매개변수 모두를 명령의 실행 메소드로 옮긴다
4. 명령의 실행 메소드에서 참조하는 필드들 대신 대응하는 매개변수를 사용하게끔 바꾼다. 하나씩 수정할 때마다 테스트한다.
5. 생성자 호출과 명령의 실행메소드 호출을 호출자(대체 함수) 안으로 인라인한다
6. 테스트한다
7. 죽은 코드 제거하기(8.9절)로 명령 클래스를 제거한다.

## 예시
