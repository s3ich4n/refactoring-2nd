# 6.9 여러 함수를 클래스로 묶기

_Combine Functions into Class_

## 개요

Before

```python
def base(a_reading): ...
def taxable_charge(a_reading): ...
def calculate_base_charge(a_reading): ...
```

After

```python
class Reading:
    def __init__(self): ...
    def base(self): ...
    def taxable_charge(self): ...
    def calculate_base_charge(self): ...
```

## 배경

클래스를 통해 함수를 공유환경으로 묶고 다른 프로그램 요소와 협력할 수 있도록 일부를 제공할 수 있다.
이렇게 묶으면 함수간 공유하는 공통 환경을 명확하게 표현할 수도 있고,
함수에 전달되는 인수를 줄여서 객체 안의 함수호출을 간결하게 할 수도 있다.
다른 시스템에 전달하기위한 참조를 제공할 수도 있다.

함수를 한데 묶는 또다른 방법은 여러 함수를 변환 함수로 묶기(6.10절) 도 있다. 선택방안은 프로그램의 문맥을 보고 판단해야한다.
클래스로 묶었을 때의 주요 장점은 클라이언트가 객체의 핵심 데이터를 변경할 수 있고, 파생 객체를 일관되게 관리할 수 있단 점이다.

이런 함수는 중첩 함수로 묶어도 된다.

## 절차

1. 함수들이 공유하는 공통 데이터 레코드를 캡슐화(7.1절) 한다. <br />
→ 공통 데이터가 레코드 구조로 묶여있지 않다면 매개변수 객체 만들기(6.8절)로 데이터를 하나로 묶는 레코드를 만든다
2. 공통 레코드를 사용하는 함수 각각을 새 클래스로 옮긴다(함수 옮기기 - 8.1절)
→ 공통 레코드의 멤버는 함수 호출문의 인수 목록에서 제거한다
3. 데이터를 조작하는 로직들은 함수로 추출(8.1절)해서 새 클래스로 옮긴다

## 예시

